{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = require(\"prop-types\");\n\nvar React = require(\"react\");\n\nvar OptionContext_1 = require(\"./OptionContext\");\n\nfunction getComponentOptionValue(component) {\n  var optionValue = component.optionValue;\n\n  if (!optionValue) {\n    throw new Error(\"optionValue should be provided for \" + component);\n  }\n\n  return optionValue;\n}\n\nvar Selector =\n/** @class */\nfunction (_super) {\n  __extends(Selector, _super);\n\n  function Selector() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.optionContextUpdate = function () {\n      _this.forceUpdate();\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(Selector.prototype, \"optionContext\", {\n    get: function () {\n      return this.context.optionContext;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Selector.prototype.componentWillMount = function () {\n    var _a = this.props,\n        option = _a.option,\n        defaultOption = _a.defaultOption;\n    var optionContext = this.optionContext;\n    var defaultValue = typeof defaultOption === 'string' ? defaultOption : getComponentOptionValue(defaultOption);\n    optionContext.addStateChangeListener(this.optionContextUpdate);\n    optionContext.optionEnter(option.key);\n    var optionState = optionContext.getOptionState(option.key);\n    this.updateOptionValues();\n\n    if (optionState) {\n      optionContext.setDefaultValue(option.key, defaultValue);\n    }\n  };\n\n  Selector.prototype.componentWillUpdate = function (nextProps) {\n    this.updateOptionValues(nextProps);\n  };\n\n  Selector.prototype.componentWillUnmount = function () {\n    this.optionContext.removeStateChangeListener(this.optionContextUpdate);\n    this.optionContext.optionExit(this.props.option.key);\n  };\n\n  Selector.prototype.render = function () {\n    var result = null;\n    var _a = this.props,\n        option = _a.option,\n        children = _a.children;\n    var value = this.optionContext.getValue(option.key);\n    React.Children.forEach(children, function (child) {\n      if (getComponentOptionValue(child.type) === value) {\n        result = child;\n      }\n    });\n    return result;\n  };\n\n  Selector.prototype.updateOptionValues = function (nextProps) {\n    if (nextProps && this.props.children === nextProps.children) {\n      return;\n    }\n\n    var _a = this.props,\n        option = _a.option,\n        children = _a.children;\n    var values = React.Children.map(children, // TODO: also validate and throw error if we don't see optionValue\n    function (child) {\n      return getComponentOptionValue(child.type);\n    });\n\n    if (new Set(values).size !== values.length) {\n      throw new Error('Duplicate values');\n    }\n\n    this.optionContext.setOptions(option.key, values);\n  };\n\n  Selector.contextTypes = {\n    optionContext: PropTypes.instanceOf(OptionContext_1.default)\n  };\n  return Selector;\n}(React.Component);\n\nexports.default = Selector;","map":{"version":3,"sources":["/Users/andrewtheodorides/Coding/webWork/avatar/node_modules/avataaars/dist/options/Selector.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","PropTypes","require","React","OptionContext_1","getComponentOptionValue","component","optionValue","Error","Selector","_super","_this","apply","arguments","optionContextUpdate","forceUpdate","get","context","optionContext","enumerable","configurable","componentWillMount","_a","props","option","defaultOption","defaultValue","addStateChangeListener","optionEnter","key","optionState","getOptionState","updateOptionValues","setDefaultValue","componentWillUpdate","nextProps","componentWillUnmount","removeStateChangeListener","optionExit","render","result","children","getValue","Children","forEach","child","type","values","map","Set","size","length","setOptions","contextTypes","instanceOf","default","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar OptionContext_1 = require(\"./OptionContext\");\nfunction getComponentOptionValue(component) {\n    var optionValue = component.optionValue;\n    if (!optionValue) {\n        throw new Error(\"optionValue should be provided for \" + component);\n    }\n    return optionValue;\n}\nvar Selector = /** @class */ (function (_super) {\n    __extends(Selector, _super);\n    function Selector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.optionContextUpdate = function () {\n            _this.forceUpdate();\n        };\n        return _this;\n    }\n    Object.defineProperty(Selector.prototype, \"optionContext\", {\n        get: function () {\n            return this.context.optionContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Selector.prototype.componentWillMount = function () {\n        var _a = this.props, option = _a.option, defaultOption = _a.defaultOption;\n        var optionContext = this.optionContext;\n        var defaultValue = (typeof defaultOption === 'string' ?\n            defaultOption : getComponentOptionValue(defaultOption));\n        optionContext.addStateChangeListener(this.optionContextUpdate);\n        optionContext.optionEnter(option.key);\n        var optionState = optionContext.getOptionState(option.key);\n        this.updateOptionValues();\n        if (optionState) {\n            optionContext.setDefaultValue(option.key, defaultValue);\n        }\n    };\n    Selector.prototype.componentWillUpdate = function (nextProps) {\n        this.updateOptionValues(nextProps);\n    };\n    Selector.prototype.componentWillUnmount = function () {\n        this.optionContext.removeStateChangeListener(this.optionContextUpdate);\n        this.optionContext.optionExit(this.props.option.key);\n    };\n    Selector.prototype.render = function () {\n        var result = null;\n        var _a = this.props, option = _a.option, children = _a.children;\n        var value = this.optionContext.getValue(option.key);\n        React.Children.forEach(children, function (child) {\n            if (getComponentOptionValue(child.type) === value) {\n                result = child;\n            }\n        });\n        return result;\n    };\n    Selector.prototype.updateOptionValues = function (nextProps) {\n        if (nextProps && this.props.children === nextProps.children) {\n            return;\n        }\n        var _a = this.props, option = _a.option, children = _a.children;\n        var values = React.Children.map(children, \n        // TODO: also validate and throw error if we don't see optionValue\n        function (child) { return getComponentOptionValue(child.type); });\n        if (new Set(values).size !== values.length) {\n            throw new Error('Duplicate values');\n        }\n        this.optionContext.setOptions(option.key, values);\n    };\n    Selector.contextTypes = {\n        optionContext: PropTypes.instanceOf(OptionContext_1.default)\n    };\n    return Selector;\n}(React.Component));\nexports.default = Selector;\n"]},"metadata":{},"sourceType":"script"}